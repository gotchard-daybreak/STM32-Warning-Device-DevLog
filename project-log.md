## 当前存档点（最新更新：2025年X月X日）

**项目名称**：STM32F103C8T6 智能任务预警装置  
**仓库地址**：https://github.com/gotchard-daybreak/STM32-Warning-Device-DevLog  
**本地状态**：已安装 Git，使用 fork 更新 GitLab 代码，暂不迁移仓库，先用 GitHub 存对话记录和日志  
**当前进度**：硬件引脚宏定义已补齐（_Ins.h），OLED 驱动使用江协科技软件模拟 I2C 版（标准库）  

**已完成 / 确认模块**：
- 引脚宏定义：全部集中（编码器 PB0/1/2、OLED PB8/9、蜂鸣器 PB10、SYN6288 PA2、DS1302 PB13/14/15、W25Q64 PA5/6/7 + PB3 CS、ESP32 PA9/10）
- OLED：使用江协科技软件模拟 I2C 驱动（GPIO_Mode_Out_OD，开漏输出），GPIO 初始化已确认，不使能硬件 I2C 时钟
- 其他硬件：接线方案已定（纯杜邦线直连，无额外电阻）

**当前状态**：
- 决定先用软件模拟 I2C 跑通 OLED（兼容性强、调试直观），成功后再考虑切硬件 I2C
- 所有 RCC 时钟使能宏已准备（标准库风格）
- 项目目标：先点亮 OLED + 编码器控制菜单切换
- 开发日志：使用 GitHub 存档，印象笔记已放弃

**下一步目标（优先级顺序）**：
1. OLED 初始化 + 显示测试（软件模拟版，PB8 SCL / PB9 SDA）
2. 编码器旋转 + 按键验证（PB0/1/2）
3. 简单多级菜单跑通（主菜单左右、一级上下）
4. 蜂鸣器响铃测试（PB10）
5. SYN6288 播报测试（PA2）
6. DS1302 时间读写（PB13/14/15 + CR2032）
7. W25Q64 读 ID 测试（PA5/6/7 + PB3）
8. ESP32 串口通信（PA9/10）

**当前问题 / 待解决**：
- OLED 是否能点亮（软件模拟版）
- 编码器方向判断（顺时针/逆时针）
- 后续是否升级 OLED 到硬件 I2C

**Grok 会话关键点**：
- 引脚分配原则：硬件优先（I2C1 PB8/9、USART1 PA9/10、SPI1 PA5/6/7） + 中断友好（PB0/1/2） + 连续易焊（PB13/14/15）
- OLED 驱动：先用江协科技软件模拟 I2C 版（不使能 I2C 时钟，GPIO_Out_OD）
- GitHub 存档：project-log.md 用于对话记录，项目完工后再整体迁移
